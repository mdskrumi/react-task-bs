{"ast":null,"code":"var _jsxFileName = \"/home/mdskrumi/Code/react-task-bs/unsplash-pics-new/src/components/App.js\";\nimport React, { useState } from \"react\";\nimport { useQuery, QueryCache, ReactQueryCacheProvider } from 'react-query';\nimport SearchBar from \"./SearchBar\";\nimport ImageList from \"./ImageList\";\nconst queryCache = new QueryCache();\n\nfunction content(term) {\n  const {\n    isLoading,\n    error,\n    data\n  } = useQuery('repoData', () => fetch('https://api.github.com/repos/tannerlinsley/react-query').then(res => res.json()));\n  if (isLoading) return 'Loading...';\n  if (error) return 'An error has occurred: ' + error.message;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }\n  }, data.name), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }\n  }, data.description), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }\n  }, \"\\uD83D\\uDC40 \", data.subscribers_count), ' ', /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }\n  }, \"\\u2728 \", data.stargazers_count), ' ', /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, \"\\uD83C\\uDF74 \", data.forks_count));\n}\n\nconst App = ({\n  setImage\n}) => {\n  const [images, setImages] = useState([]);\n  const [error_msg, setErrorMsg] = useState(\"\");\n\n  const onSearchSubmit = term => {\n    fetch(\"https://api.unsplash.com/search/photos/?query=\" + term, {\n      method: \"GET\",\n      headers: {\n        Authorization: \"Client-ID R4Q_V32stbrWOzb3DpOntSfstan64mljhm-QftIjSCY\"\n      }\n    }).then(response => {\n      console.log(response);\n\n      if (response.status === 200) {\n        // console.log(\"here\");\n        return response.json();\n      } else throw \"Something went wrong\";\n    }).then(response => {\n      setImages(response.results);\n    }).catch(err => {\n      setErrorMsg(err);\n    });\n  };\n\n  const renderContent = () => {\n    if (!error_msg) {\n      return /*#__PURE__*/React.createElement(ImageList, {\n        images: images,\n        setImage: setImage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 14\n        }\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(\"h2\", {\n        style: {\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          display: \"flex\",\n          color: \"red\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 9\n        }\n      }, error_msg);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(ReactQueryCacheProvider, {\n    queryCache: queryCache,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ui container\",\n    style: {\n      marginTop: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(SearchBar, {\n    onSearchSubmit: onSearchSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, \"Found: \", images.length, \" Images\"), renderContent()));\n};\n\nexport default App;","map":{"version":3,"sources":["/home/mdskrumi/Code/react-task-bs/unsplash-pics-new/src/components/App.js"],"names":["React","useState","useQuery","QueryCache","ReactQueryCacheProvider","SearchBar","ImageList","queryCache","content","term","isLoading","error","data","fetch","then","res","json","message","name","description","subscribers_count","stargazers_count","forks_count","App","setImage","images","setImages","error_msg","setErrorMsg","onSearchSubmit","method","headers","Authorization","response","console","log","status","results","catch","err","renderContent","justifyContent","alignItems","display","color","marginTop","length"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useQuery, QueryCache, ReactQueryCacheProvider } from 'react-query'\n\nimport SearchBar from \"./SearchBar\";\nimport ImageList from \"./ImageList\";\n\nconst queryCache = new QueryCache()\n\n\n\nfunction content(term) {\n  const { isLoading, error, data } = useQuery('repoData', () =>\n    fetch('https://api.github.com/repos/tannerlinsley/react-query').then(res =>\n      res.json()\n    )\n  )\n\n  if (isLoading) return 'Loading...'\n\n  if (error) return 'An error has occurred: ' + error.message\n\n  return (\n    <div>\n      <h1>{data.name}</h1>\n      <p>{data.description}</p>\n      <strong>👀 {data.subscribers_count}</strong>{' '}\n      <strong>✨ {data.stargazers_count}</strong>{' '}\n      <strong>🍴 {data.forks_count}</strong>\n    </div>\n  )\n}\n\n\nconst App = ({ setImage }) => {\n  const [images, setImages] = useState([]);\n  const [error_msg, setErrorMsg] = useState(\"\");\n\n  const onSearchSubmit = (term) => {\n\n\n    fetch(\"https://api.unsplash.com/search/photos/?query=\" + term, {\n      method: \"GET\",\n      headers: {\n        Authorization: \"Client-ID R4Q_V32stbrWOzb3DpOntSfstan64mljhm-QftIjSCY\",\n      },\n    })\n      .then((response) => {\n        console.log(response);\n        if (response.status === 200) {\n          // console.log(\"here\");\n          return response.json();\n        } else throw \"Something went wrong\";\n      })\n      .then((response) => {\n        setImages(response.results);\n      })\n      .catch((err) => {\n        setErrorMsg(err);\n      });\n  };\n\n  const renderContent = () => {\n    if (!error_msg) {\n      return <ImageList images={images} setImage={setImage} />;\n    } else {\n      return (\n        <h2\n          style={{\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            display: \"flex\",\n            color: \"red\",\n          }}\n        >\n          {error_msg}\n        </h2>\n      );\n    }\n  };\n\n  return (\n    <ReactQueryCacheProvider queryCache={queryCache}>\n      <div className=\"ui container\" style={{ marginTop: \"10px\" }}>\n        <SearchBar onSearchSubmit={onSearchSubmit} />\n        <h4>Found: {images.length} Images</h4>\n        {renderContent()}\n      </div>\n    </ReactQueryCacheProvider>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}
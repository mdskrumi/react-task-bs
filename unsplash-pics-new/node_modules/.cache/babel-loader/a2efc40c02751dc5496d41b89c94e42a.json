{"ast":null,"code":"var _jsxFileName = \"/home/mdskrumi/Code/react-task-bs/unsplash-pics-new/src/components/App.js\";\nimport React, { useState } from \"react\";\nimport { useQuery, QueryCache, ReactQueryCacheProvider } from 'react-query';\nimport SearchBar from \"./SearchBar\";\nimport ImageList from \"./ImageList\";\nconst queryCache = new QueryCache();\n\nconst App = ({\n  setImage\n}) => {\n  const [images, setImages] = useState([]); // const [error_msg, setErrorMsg] = useState(\"\");\n\n  const [term, setTerm] = useState(\"Bangladesh\");\n\n  const onSearchSubmit = term => {\n    setTerm(term);\n  };\n\n  const {\n    isLoading,\n    error,\n    data\n  } = useQuery('Images', () => fetch(\"https://api.unsplash.com/search/photos/?query=\" + term, {\n    method: \"GET\",\n    headers: {\n      Authorization: \"Client-ID R4Q_V32stbrWOzb3DpOntSfstan64mljhm-QftIjSCY\"\n    }\n  }).then(response => {\n    if (response.status === 200) {\n      response.json();\n    }\n  }).then(response => {\n    setImages(response.results);\n  }));\n\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 12\n      }\n    }, \"Loading\");\n  } else if (error) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 12\n      }\n    }, 'An error has occurred: ' + error.message);\n  }\n\n  return /*#__PURE__*/React.createElement(ReactQueryCacheProvider, {\n    queryCache: queryCache,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ui container\",\n    style: {\n      marginTop: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(SearchBar, {\n    onSearchSubmit: onSearchSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, \"Found: \", images.length, \" Images\"), renderContent()));\n};\n\nexport default App;","map":{"version":3,"sources":["/home/mdskrumi/Code/react-task-bs/unsplash-pics-new/src/components/App.js"],"names":["React","useState","useQuery","QueryCache","ReactQueryCacheProvider","SearchBar","ImageList","queryCache","App","setImage","images","setImages","term","setTerm","onSearchSubmit","isLoading","error","data","fetch","method","headers","Authorization","then","response","status","json","results","message","marginTop","length","renderContent"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AAEA,SAASC,QAAT,EAAmBC,UAAnB,EAA+BC,uBAA/B,QAA8D,aAA9D;AAEA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AAIA,MAAMC,UAAU,GAAG,IAAIJ,UAAJ,EAAnB;;AAGA,MAAMK,GAAG,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAC5B,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBV,QAAQ,CAAC,EAAD,CAApC,CAD4B,CAE5B;;AACA,QAAM,CAACW,IAAD,EAAOC,OAAP,IAAkBZ,QAAQ,CAAC,YAAD,CAAhC;;AAGA,QAAMa,cAAc,GAAIF,IAAD,IAAU;AAC/BC,IAAAA,OAAO,CAACD,IAAD,CAAP;AACD,GAFD;;AAMA,QAAM;AAAEG,IAAAA,SAAF;AAAaC,IAAAA,KAAb;AAAoBC,IAAAA;AAApB,MAA6Bf,QAAQ,CAAC,QAAD,EAAW,MACpDgB,KAAK,CAAC,mDAAmDN,IAApD,EAA0D;AAC7DO,IAAAA,MAAM,EAAE,KADqD;AAE7DC,IAAAA,OAAO,EAAE;AACPC,MAAAA,aAAa,EAAE;AADR;AAFoD,GAA1D,CAAL,CAMGC,IANH,CAMSC,QAAD,IAAc;AAClB,QAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3BD,MAAAA,QAAQ,CAACE,IAAT;AACD;AACF,GAVH,EAWGH,IAXH,CAWSC,QAAD,IAAc;AAClBZ,IAAAA,SAAS,CAACY,QAAQ,CAACG,OAAV,CAAT;AACD,GAbH,CADyC,CAA3C;;AAiBA,MAAIX,SAAJ,EAAe;AACb,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAP;AACD,GAFD,MAGK,IAAIC,KAAJ,EAAW;AACd,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAM,4BAA4BA,KAAK,CAACW,OAAxC,CAAP;AACD;;AAED,sBACE,oBAAC,uBAAD;AAAyB,IAAA,UAAU,EAAEpB,UAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAA8B,IAAA,KAAK,EAAE;AAAEqB,MAAAA,SAAS,EAAE;AAAb,KAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAW,IAAA,cAAc,EAAEd,cAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAYJ,MAAM,CAACmB,MAAnB,YAFF,EAGGC,aAAa,EAHhB,CADF,CADF;AAgBD,CApDD;;AAsDA,eAAetB,GAAf","sourcesContent":["import React, { useState } from \"react\";\n\nimport { useQuery, QueryCache, ReactQueryCacheProvider } from 'react-query';\n\nimport SearchBar from \"./SearchBar\";\nimport ImageList from \"./ImageList\";\n\n\n\nconst queryCache = new QueryCache();\n\n\nconst App = ({ setImage }) => {\n  const [images, setImages] = useState([]);\n  // const [error_msg, setErrorMsg] = useState(\"\");\n  const [term, setTerm] = useState(\"Bangladesh\");\n\n\n  const onSearchSubmit = (term) => {\n    setTerm(term);\n  };\n\n\n\n  const { isLoading, error, data } = useQuery('Images', () =>\n    fetch(\"https://api.unsplash.com/search/photos/?query=\" + term, {\n      method: \"GET\",\n      headers: {\n        Authorization: \"Client-ID R4Q_V32stbrWOzb3DpOntSfstan64mljhm-QftIjSCY\",\n      },\n    })\n      .then((response) => {\n        if (response.status === 200) {\n          response.json();\n        }\n      })\n      .then((response) => {\n        setImages(response.results);\n      })\n  );\n\n  if (isLoading) {\n    return <div>Loading</div>\n  }\n  else if (error) {\n    return <div>{'An error has occurred: ' + error.message}</div>\n  }\n\n  return (\n    <ReactQueryCacheProvider queryCache={queryCache}>\n      <div className=\"ui container\" style={{ marginTop: \"10px\" }}>\n        <SearchBar onSearchSubmit={onSearchSubmit} />\n        <h4>Found: {images.length} Images</h4>\n        {renderContent()}\n      </div>\n    </ReactQueryCacheProvider>\n  )\n\n\n\n\n\n\n\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}